<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo do Galo - Gumball vs Darwin</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .game-container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }

        .game-header {
            margin-bottom: 20px;
        }

        .game-header h1 {
            color: #00d4ff;
            font-size: 2em;
            text-shadow: 0 0 10px #00d4ff;
        }

        .game-header p {
            color: #ff6b9d;
            font-size: 1.1em;
        }

        .player-info {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 20px;
        }

        .player {
            padding: 15px 25px;
            border-radius: 15px;
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .player.active {
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }

        .player .emoji {
            font-size: 2.5em;
            display: block;
            margin-bottom: 5px;
        }

        .player .player-img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            display: block;
            margin: 0 auto 5px;
        }

        .cell img {
            width: 70px;
            height: 70px;
            object-fit: contain;
        }

        .player .name {
            font-weight: bold;
        }

        .player.gumball .name {
            color: #00d4ff;
        }

        .player.darwin .name {
            color: #ff9f43;
        }

        .score-board {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .score-board span {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 10px;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 330px;
            margin: 0 auto 20px;
        }

        .cell {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border: 3px solid #00d4ff;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            transition: all 0.3s ease;
        }

        .cell:hover:not(.taken) {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 212, 255, 0.5);
            background: linear-gradient(135deg, #0f3460, #16213e);
        }

        .cell.taken {
            cursor: default;
        }

        .cell.win {
            background: linear-gradient(135deg, #52b788, #2d6a4f);
            border-color: #95d5b2;
            animation: pulse 0.5s ease infinite alternate;
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }

        .game-status {
            font-size: 1.3em;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(0, 212, 255, 0.1);
            min-height: 50px;
        }

        .game-status.win {
            background: rgba(82, 183, 136, 0.2);
            color: #52b788;
        }

        .game-status.lose {
            background: rgba(255, 107, 157, 0.2);
            color: #ff6b9d;
        }

        .game-status.draw {
            background: rgba(255, 159, 67, 0.2);
            color: #ff9f43;
        }

        .btn-voltar {
            display: inline-block;
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1em;
        }

        .btn-voltar:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 107, 157, 0.5);
        }

        .btn-restart {
            display: inline-block;
            background: linear-gradient(135deg, #00d4ff, #0099cc);
            color: white;
            padding: 15px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1em;
        }

        .btn-restart:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.5);
        }

        .difficulty-selector {
            margin-bottom: 20px;
        }

        .difficulty-selector span {
            display: block;
            margin-bottom: 10px;
        }

        .difficulty-selector button {
            background: rgba(0, 212, 255, 0.2);
            border: 2px solid #00d4ff;
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .difficulty-selector button:hover,
        .difficulty-selector button.active {
            background: #00d4ff;
            color: #0a0a0f;
        }

        .game-buttons {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="stars"></div>

    <div class="game-container">
        <div class="game-header">
            <h1>‚≠ï Jogo do Galo ‚ùå</h1>
            <p>Tu √©s o Gumball üê± - Jogas contra o Darwin üêü</p>
        </div>

        <div class="difficulty-selector">
            <span>Dificuldade do Darwin:</span>
            <button onclick="setDifficulty('easy')" id="btn-easy">F√°cil</button>
            <button onclick="setDifficulty('medium')" id="btn-medium" class="active">M√©dio</button>
            <button onclick="setDifficulty('hard')" id="btn-hard">Dif√≠cil</button>
        </div>

        <div class="player-info">
            <div class="player gumball active" id="player-gumball">
                <img src="img/gumball.png" alt="Gumball" class="player-img">
                <span class="name">Tu (Gumball)</span>
            </div>
            <div class="player darwin" id="player-darwin">
                <img src="img/darwin.png" alt="Darwin" class="player-img">
                <span class="name">Computador (Darwin)</span>
            </div>
        </div>

        <div class="score-board">
            <span>üê± Vit√≥rias: <span id="player-wins">0</span></span>
            <span>ü§ù Empates: <span id="draws">0</span></span>
            <span>üêü Vit√≥rias: <span id="computer-wins">0</span></span>
        </div>

        <div class="game-board" id="game-board">
            <div class="cell" data-index="0"></div>
            <div class="cell" data-index="1"></div>
            <div class="cell" data-index="2"></div>
            <div class="cell" data-index="3"></div>
            <div class="cell" data-index="4"></div>
            <div class="cell" data-index="5"></div>
            <div class="cell" data-index="6"></div>
            <div class="cell" data-index="7"></div>
            <div class="cell" data-index="8"></div>
        </div>

        <div class="game-status" id="game-status">
            √â a tua vez! Clica numa casa.
        </div>

        <div class="game-buttons">
            <button onclick="restartGame()" class="btn-restart">üîÑ Novo Jogo</button>
            <a href="index.html" class="btn-voltar">‚¨ÖÔ∏è Voltar ao Site</a>
        </div>
    </div>

    <script>
        const PLAYER = 'gumball';
        const COMPUTER = 'darwin';
        const PLAYER_IMG = '<img src="img/gumball.png" alt="Gumball">';
        const COMPUTER_IMG = '<img src="img/darwin.png" alt="Darwin">';

        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = PLAYER;
        let gameActive = true;
        let difficulty = 'medium';

        let playerWins = 0;
        let computerWins = 0;
        let draws = 0;

        const winPatterns = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // Linhas
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // Colunas
            [0, 4, 8], [2, 4, 6] // Diagonais
        ];

        const cells = document.querySelectorAll('.cell');
        const statusDisplay = document.getElementById('game-status');

        function setDifficulty(level) {
            difficulty = level;
            document.querySelectorAll('.difficulty-selector button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${level}`).classList.add('active');
            restartGame();
        }

        cells.forEach(cell => {
            cell.addEventListener('click', () => handleCellClick(cell));
        });

        function handleCellClick(cell) {
            const index = cell.dataset.index;

            if (board[index] !== '' || !gameActive || currentPlayer !== PLAYER) {
                return;
            }

            makeMove(index, PLAYER);

            if (gameActive) {
                currentPlayer = COMPUTER;
                updatePlayerIndicator();
                statusDisplay.textContent = 'O Darwin est√° a pensar... ü§î';

                setTimeout(() => {
                    computerMove();
                }, 700);
            }
        }

        function makeMove(index, player) {
            board[index] = player;
            cells[index].innerHTML = player === PLAYER ? PLAYER_IMG : COMPUTER_IMG;
            cells[index].classList.add('taken');

            const winner = checkWinner();
            if (winner) {
                endGame(winner);
            } else if (!board.includes('')) {
                endGame('draw');
            }
        }

        function computerMove() {
            if (!gameActive) return;

            let move;

            switch(difficulty) {
                case 'easy':
                    move = getRandomMove();
                    break;
                case 'medium':
                    move = Math.random() > 0.5 ? getBestMove() : getRandomMove();
                    break;
                case 'hard':
                    move = getBestMove();
                    break;
            }

            if (move !== null) {
                makeMove(move, COMPUTER);

                if (gameActive) {
                    currentPlayer = PLAYER;
                    updatePlayerIndicator();
                    statusDisplay.textContent = '√â a tua vez! Clica numa casa.';
                }
            }
        }

        function getRandomMove() {
            const availableMoves = board.map((cell, index) => cell === '' ? index : null).filter(val => val !== null);
            return availableMoves[Math.floor(Math.random() * availableMoves.length)];
        }

        function getBestMove() {
            // Primeiro, verifica se pode ganhar
            for (let pattern of winPatterns) {
                const move = findWinningMove(pattern, COMPUTER);
                if (move !== null) return move;
            }

            // Depois, bloqueia o jogador
            for (let pattern of winPatterns) {
                const move = findWinningMove(pattern, PLAYER);
                if (move !== null) return move;
            }

            // Tenta o centro
            if (board[4] === '') return 4;

            // Tenta os cantos
            const corners = [0, 2, 6, 8];
            const availableCorners = corners.filter(i => board[i] === '');
            if (availableCorners.length > 0) {
                return availableCorners[Math.floor(Math.random() * availableCorners.length)];
            }

            // Qualquer movimento dispon√≠vel
            return getRandomMove();
        }

        function findWinningMove(pattern, player) {
            const [a, b, c] = pattern;
            const line = [board[a], board[b], board[c]];

            if (line.filter(cell => cell === player).length === 2 && line.includes('')) {
                if (board[a] === '') return a;
                if (board[b] === '') return b;
                if (board[c] === '') return c;
            }
            return null;
        }

        function checkWinner() {
            for (let pattern of winPatterns) {
                const [a, b, c] = pattern;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    highlightWin(pattern);
                    return board[a];
                }
            }
            return null;
        }

        function highlightWin(pattern) {
            pattern.forEach(index => {
                cells[index].classList.add('win');
            });
        }

        function endGame(result) {
            gameActive = false;

            if (result === PLAYER) {
                playerWins++;
                document.getElementById('player-wins').textContent = playerWins;
                statusDisplay.textContent = 'üéâ Parab√©ns! Ganhaste!';
                statusDisplay.className = 'game-status win';
            } else if (result === COMPUTER) {
                computerWins++;
                document.getElementById('computer-wins').textContent = computerWins;
                statusDisplay.textContent = 'üòÖ O Darwin ganhou! Tenta outra vez!';
                statusDisplay.className = 'game-status lose';
            } else {
                draws++;
                document.getElementById('draws').textContent = draws;
                statusDisplay.textContent = 'ü§ù Empate! Est√£o os dois muito bons!';
                statusDisplay.className = 'game-status draw';
            }
        }

        function updatePlayerIndicator() {
            document.getElementById('player-gumball').classList.toggle('active', currentPlayer === PLAYER);
            document.getElementById('player-darwin').classList.toggle('active', currentPlayer === COMPUTER);
        }

        function restartGame() {
            board = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = PLAYER;
            gameActive = true;

            cells.forEach(cell => {
                cell.innerHTML = '';
                cell.classList.remove('taken', 'win');
            });

            statusDisplay.textContent = '√â a tua vez! Clica numa casa.';
            statusDisplay.className = 'game-status';
            updatePlayerIndicator();
        }
    </script>
</body>
</html>
